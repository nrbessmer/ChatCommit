(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{1782:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>c});var s=l(5155),t=l(2115),r=l(3464);function c(){let[e,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(""),[n,d]=(0,t.useState)(""),[i,o]=(0,t.useState)("");(0,t.useEffect)(()=>{r.A.get("https://chatcommit.fly.dev/branch/").then(e=>a(e.data)).catch(e=>console.error("Failed to load branches",e))},[]);let h=async()=>{try{let e=await r.A.post("https://chatcommit.fly.dev/api//merge",{source_branch_id:parseInt(l),target_branch_id:parseInt(n)});o(e.data.message)}catch(l){var e,a;o((null===(a=l.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.detail)||"Merge failed")}};return(0,s.jsxs)("div",{className:"max-w-xl mx-auto p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Merge Branches"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block mb-1",children:"Source Branch"}),(0,s.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded",children:[(0,s.jsx)("option",{value:"",children:"Select source"}),e.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block mb-1",children:"Target Branch"}),(0,s.jsxs)("select",{value:n,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded",children:[(0,s.jsx)("option",{value:"",children:"Select target"}),e.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsx)("button",{onClick:h,disabled:!l||!n,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Merge"}),i&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-gray-100",children:i})]})}},5446:(e,a,l)=>{Promise.resolve().then(l.bind(l,1782))}},e=>{var a=a=>e(e.s=a);e.O(0,[464,441,684,358],()=>a(5446)),_N_E=e.O()}]);