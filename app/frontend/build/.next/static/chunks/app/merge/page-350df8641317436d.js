(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{1782:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var r=t(5155),s=t(2115),l=t(3464);function n(){let[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[h,u]=(0,s.useState)(!0),[b,m]=(0,s.useState)("");(0,s.useEffect)(()=>{l.A.get("https://chatcommit.fly.dev/branch/").then(e=>a(e.data)).catch(e=>{console.error("Error loading branches:",e),m("Failed to load branches.")}).finally(()=>u(!1))},[]);let g=async()=>{if(!t||!c||t===c){alert("Please select two different branches.");return}o("Merging...");try{let e=await l.A.post("https://chatcommit.fly.dev/merge",{source_branch_id:parseInt(t),target_branch_id:parseInt(c)});o(e.data.message)}catch(t){var e,a;console.error("Merge failed:",t),o((null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.detail)||"Merge failed.")}};return h?(0,r.jsx)("p",{className:"p-6 text-white",children:"Loading branchesâ€¦"}):b?(0,r.jsx)("p",{className:"p-6 text-red-500",children:b}):(0,r.jsxs)("div",{className:"max-w-xl mx-auto p-6 text-white bg-gray-900 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Merge Branches"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-1",children:"Source Branch"}),(0,r.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded bg-gray-800 text-gray-100",children:[(0,r.jsx)("option",{value:"",children:"Select source branch"}),e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-1",children:"Target Branch"}),(0,r.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded bg-gray-800 text-gray-100",children:[(0,r.jsx)("option",{value:"",children:"Select target branch"}),e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Merge"}),i&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-700 rounded text-sm",children:i})]})}},5446:(e,a,t)=>{Promise.resolve().then(t.bind(t,1782))}},e=>{var a=a=>e(e.s=a);e.O(0,[464,441,684,358],()=>a(5446)),_N_E=e.O()}]);