(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2397:(e,t,s)=>{Promise.resolve().then(s.bind(s,7001))},7001:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),l=s(2115),r=s(9418),n=s(3464);let c=async e=>(await n.A.get("".concat("https://chatcommit.fly.dev","/branch/").concat(e,"/commits"))).data;function o(){let[e,t]=(0,l.useState)([]),[s,n]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=localStorage.getItem("activeBranchId");e&&n(Number(e))},[]),(0,l.useEffect)(()=>{null!==s&&c(s).then(t).catch(e=>console.error("Error fetching commits:",e))},[s]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Commits for Branch ",null!=s?s:"(none selected)"]}),e.length>0?e.map(e=>(0,a.jsx)(r.A,{...e},e.id)):(0,a.jsx)("p",{className:"text-gray-500",children:"No commits found for this branch."})]})}},9418:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(5155),l=s(2115),r=s(6874),n=s.n(r);let c=e=>{let{id:t,commit_hash:s,commit_message:r,created_at:c,tags:o,conversation_context:i,hideView:m=!1}=e,[h,x]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gray-800 text-gray-100 rounded-lg p-4 mb-4 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Commit Hash:"}),(0,a.jsx)("p",{className:"font-mono text-sm text-white break-all",children:s}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Message:"}),(0,a.jsx)("p",{className:"text-lg text-white",children:r}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Created At:"}),(0,a.jsx)("p",{className:"text-sm text-gray-300",children:new Date(c).toLocaleString()}),o&&o.length>0&&(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:o.map(e=>(0,a.jsxs)("span",{className:"bg-yellow-600 text-yellow-100 text-xs font-medium px-2 py-1 rounded",children:["#",e]},e))}),i&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("button",{onClick:()=>x(!h),className:"text-blue-400 hover:underline text-sm",children:h?"Hide Context":"Show Context"}),h&&(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)("button",{onClick:()=>{if(!i)return;let e=JSON.stringify(i,null,2);navigator.clipboard.writeText(e).then(()=>alert("Context copied!")).catch(()=>alert("Copy failed."))},"aria-label":"Copy context",className:"absolute top-0 right-0 p-1 bg-blue-600 hover:bg-blue-700 text-white rounded",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h6m4 0h2a2 2 0 012 2v8a2 2 0 01-2 2h-2M8 12h6m-6 4h6"})})}),(0,a.jsx)("div",{className:"bg-gray-700 p-3 rounded max-h-48 overflow-y-auto text-gray-200 font-mono text-sm",children:i.messages.map((e,t)=>(0,a.jsx)("p",{className:"mb-2",children:e},t))})]})]}),!m&&(0,a.jsx)(n(),{href:"/commit/".concat(t),className:"mt-3 inline-block text-blue-400 hover:underline text-sm",children:"View Details â†’"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,874,441,684,358],()=>t(2397)),_N_E=e.O()}]);