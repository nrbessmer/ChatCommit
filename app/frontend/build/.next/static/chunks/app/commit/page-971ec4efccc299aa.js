(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{729:(e,t,s)=>{Promise.resolve().then(s.bind(s,7847))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),r=s(2115),o=s(3464),l=s(5695);function u(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(""),[u,m]=(0,r.useState)('{"messages": ["Hello", "World"]}'),[n,i]=(0,r.useState)(!1),c=async s=>{s.preventDefault(),i(!0);try{let s={commit_message:t,conversation_context:JSON.parse(u)};await o.A.post("https://chatcommit.fly.dev/commit/",s),e.push("/")}catch(e){console.error("Failed to submit commit:",e),alert("Commit failed. Check your context JSON.")}finally{i(!1)}};return(0,a.jsxs)("div",{className:"max-w-xl mx-auto p-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Create a New Commit"}),(0,a.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Commit Message"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),className:"w-full mt-1 p-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Conversation Context (JSON)"}),(0,a.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),rows:6,className:"w-full mt-1 p-2 border rounded font-mono text-sm",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:n?"Committing...":"Create Commit"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,441,684,358],()=>t(729)),_N_E=e.O()}]);