(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{737:(e,t,s)=>{Promise.resolve().then(s.bind(s,5883))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},5883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),n=s(2115),r=s(5695),l=s(3464),o=s(9418);function i(){var e;let{id:t}=(0,r.useParams)(),s=(0,r.useRouter)(),[i,c]=(0,n.useState)(null),[m,x]=(0,n.useState)(!0),[d,h]=(0,n.useState)("");return((0,n.useEffect)(()=>{t&&l.A.get("https://chatcommit.fly.dev/commit/".concat(t)).then(e=>c(e.data)).catch(e=>{console.error("Error fetching commit:",e),h("Failed to load commit.")}).finally(()=>x(!1))},[t]),m)?(0,a.jsx)("p",{className:"p-6 bg-gray-900 text-gray-300",children:"Loading commit…"}):d?(0,a.jsx)("p",{className:"p-6 bg-gray-900 text-red-500",children:d}):i?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto bg-gray-800 p-6 rounded-lg shadow-xl text-gray-100",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Commit Details"}),(0,a.jsx)(o.A,{...i,hideView:!0}),(null===(e=i.conversation_context)||void 0===e?void 0:e.messages)&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Conversation Context"}),(0,a.jsxs)("button",{onClick:()=>{if(!(null==i?void 0:i.conversation_context))return;let e=JSON.stringify(i.conversation_context,null,2);navigator.clipboard.writeText(e).then(()=>alert("Conversation context copied!")).catch(()=>alert("Failed to copy context."))},"aria-label":"Copy conversation context",className:"inline-flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h6m4 0h2a2 2 0 012 2v8a2 2 0 01-2 2h-2M8 12h6m-6 4h6"})}),(0,a.jsx)("span",{className:"text-sm",children:"Copy"})]})]}),(0,a.jsx)("div",{className:"bg-gray-700 p-4 rounded max-h-64 overflow-y-auto text-gray-200 font-mono text-sm",children:i.conversation_context.messages.map((e,t)=>(0,a.jsx)("p",{className:"mb-2",children:e},t))})]}),i.branch_id&&(0,a.jsx)("button",{onClick:()=>s.push("/branches/".concat(i.branch_id)),className:"mt-6 text-blue-400 hover:underline",children:"← Back to Branch"})]})}):(0,a.jsx)("p",{className:"p-6 bg-gray-900 text-gray-300",children:"Commit not found."})}},9418:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(5155),n=s(2115),r=s(6874),l=s.n(r);let o=e=>{let{id:t,commit_hash:s,commit_message:r,created_at:o,tags:i,conversation_context:c,hideView:m=!1}=e,[x,d]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gray-800 text-gray-100 rounded-lg p-4 mb-4 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Commit Hash:"}),(0,a.jsx)("p",{className:"font-mono text-sm text-white break-all",children:s}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Message:"}),(0,a.jsx)("p",{className:"text-lg text-white",children:r}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Created At:"}),(0,a.jsx)("p",{className:"text-sm text-gray-300",children:new Date(o).toLocaleString()}),i&&i.length>0&&(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:i.map(e=>(0,a.jsxs)("span",{className:"bg-yellow-600 text-yellow-100 text-xs font-medium px-2 py-1 rounded",children:["#",e]},e))}),c&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("button",{onClick:()=>d(!x),className:"text-blue-400 hover:underline text-sm",children:x?"Hide Context":"Show Context"}),x&&(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)("button",{onClick:()=>{if(!c)return;let e=JSON.stringify(c,null,2);navigator.clipboard.writeText(e).then(()=>alert("Context copied!")).catch(()=>alert("Copy failed."))},"aria-label":"Copy context",className:"absolute top-0 right-0 p-1 bg-blue-600 hover:bg-blue-700 text-white rounded",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h6m4 0h2a2 2 0 012 2v8a2 2 0 01-2 2h-2M8 12h6m-6 4h6"})})}),(0,a.jsx)("div",{className:"bg-gray-700 p-3 rounded max-h-48 overflow-y-auto text-gray-200 font-mono text-sm",children:c.messages.map((e,t)=>(0,a.jsx)("p",{className:"mb-2",children:e},t))})]})]}),!m&&(0,a.jsx)(l(),{href:"/commit/".concat(t),className:"mt-3 inline-block text-blue-400 hover:underline text-sm",children:"View Details →"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,874,441,684,358],()=>t(737)),_N_E=e.O()}]);