(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{48:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),l=s(2115),r=s(5695),n=s(3464),i=s(9418);function c(){var e;let{id:t}=(0,r.useParams)(),[s,c]=(0,l.useState)(null),[o,m]=(0,l.useState)([]),[d,x]=(0,l.useState)(!0),[h,u]=(0,l.useState)("");return((0,l.useEffect)(()=>{t&&Promise.all([n.A.get("https://chatcommit.fly.dev/branch/".concat(t)),n.A.get("https://chatcommit.fly.dev/branch/".concat(t,"/commits"))]).then(e=>{let[t,s]=e;c(t.data),m(s.data)}).catch(()=>u("Failed to load branch details.")).finally(()=>x(!1))},[t]),d)?(0,a.jsx)("p",{className:"p-6 text-white",children:"Loading branch details…"}):h?(0,a.jsx)("p",{className:"p-6 text-red-500",children:h}):s?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 text-white",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Branch: ",s.name]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mb-6",children:["HEAD Commit ID: ",null!==(e=s.current_commit_id)&&void 0!==e?e:"None"]}),o.map(e=>(0,a.jsx)(i.A,{...e,hideView:!0},e.id))]}):(0,a.jsx)("p",{className:"p-6 text-white",children:"Branch not found."})}},2112:(e,t,s)=>{Promise.resolve().then(s.bind(s,48))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},9418:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),l=s(2115),r=s(6874),n=s.n(r);let i=e=>{let{id:t,commit_hash:s,commit_message:r,created_at:i,tags:c,conversation_context:o,hideView:m=!1}=e,[d,x]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gray-800 text-gray-100 rounded-lg p-4 mb-4 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Commit Hash:"}),(0,a.jsx)("p",{className:"font-mono text-sm text-white break-all",children:s}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Message:"}),(0,a.jsx)("p",{className:"text-lg text-white",children:r}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Created At:"}),(0,a.jsx)("p",{className:"text-sm text-gray-300",children:new Date(i).toLocaleString()}),c&&c.length>0&&(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:c.map(e=>(0,a.jsxs)("span",{className:"bg-yellow-600 text-yellow-100 text-xs font-medium px-2 py-1 rounded",children:["#",e]},e))}),o&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("button",{onClick:()=>x(!d),className:"text-blue-400 hover:underline text-sm",children:d?"Hide Context":"Show Context"}),d&&(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)("button",{onClick:()=>{if(!o)return;let e=JSON.stringify(o,null,2);navigator.clipboard.writeText(e).then(()=>alert("Context copied!")).catch(()=>alert("Copy failed."))},"aria-label":"Copy context",className:"absolute top-0 right-0 p-1 bg-blue-600 hover:bg-blue-700 text-white rounded",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h6m4 0h2a2 2 0 012 2v8a2 2 0 01-2 2h-2M8 12h6m-6 4h6"})})}),(0,a.jsx)("div",{className:"bg-gray-700 p-3 rounded max-h-48 overflow-y-auto text-gray-200 font-mono text-sm",children:o.messages.map((e,t)=>(0,a.jsx)("p",{className:"mb-2",children:e},t))})]})]}),!m&&(0,a.jsx)(n(),{href:"/commit/".concat(t),className:"mt-3 inline-block text-blue-400 hover:underline text-sm",children:"View Details →"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,874,441,684,358],()=>t(2112)),_N_E=e.O()}]);